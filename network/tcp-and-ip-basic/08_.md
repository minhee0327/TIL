# 08 라우팅

* 라우팅
  * 서로다른 네트워크 간의 통신에서 패킷은 여러개의 라우터를 경유하여 목적지에 도달한다.
  * 이때, 라우터가 수행하는 목적지까지의 경로결정을 **라우팅**이라고한다.
  * 라우팅을 수행하기 위해 라우터는 **라우팅 테이블**이라는 정보를 갖고 있다. 회수한 패킷의 수신 IP주소를 보고 라우팅 테이블을 참고로 다음에 어떤 라우터에 전송할지 결정
* 라우팅 종류 2가지
  * 정적 라우팅
    * 미리 관리자에 의해 등록된 라우팅 테이블을 사용하여 목적지까지 전달.
    * 경로가 고정되있기 때문에, 한군데라도 상태가 잘못되있을 경우 전달 불가.
  * 동적 라우팅
    * 라우터끼리 정보교환을 수행하고, 그 시점에 가장 적절한 경로를 사용하여 전달하는 방법. 경로중 상태가 잘못된 경로가 있다면 자동적으로 다른 경로 선택
* 라우터끼리의 정보교환
  * 동적 라우팅에서 라우터는 직접 연결되어 있는 다른 라우터로부터 정보를 얻어서, 라우팅 테이블을 작성한다. 이때 사용되는 것이 라우팅 프로토콜.
    * 종류
      * IGP\(Interior Gateway Protocol\)
        * 회사내나, 동일한 조직에 속한 라우터끼리 주고받기 위한 프로토콜
        * 종류
          * RIP\(Routing Information Protocol\): 
            * 중소규모의 조직 내에서 사용, 홉 수를 중시\(적은값\)해서 라우팅 테이블 작성
          * OSPF\(Open Shortest Path First\):
            * 중대규모의 조직 내에서 사용. 전송속도 등을 고려하고 목적지까지의 속도를 중시해서 라우팅 테이블작성.
      * EGP\(exterior Gateway Protocol\)
        * 서로 다른 조직에 속한 라우터끼리 주고받기 위한 프로토콜
        * 종류
          * BGP: 목적지까지 홉 수를 중시해 라우팅 테이블 작성
* 라우팅의 구조
  * 라우터는 MAC주소를 사용하여 경유지를 지정
  * 라우터 내부모습
    * 라우터의 네트워크계층에서 수신 IP주소를 확인하고, 
    * 라우팅 테이블로부터 다음 전송처를 판단
    * 데이터 링크계층에서 전송처의 MAC주소를 추가하여 네트워크로 보냄
  * 전송 흐름
    * IP주소는 최종 목적지를, 
    * MAC주소는 '경유지'를 나타냄
* windows에서 어떤 컴퓨터까지의 경로 표시: tracert
  * 예

    ```text
    tracert www.google.co.kr
    ```

